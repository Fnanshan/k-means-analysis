<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=GuVuTMGm7drDEpUCcZe22qGhdH8B0kIt"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>heatMap</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:500px;width:100%;}
		#r-result{width:100%;}
    </style>	
</head>
<body>
	<div id="container"></div>
	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    // 百度地图应用：浏览器端 AK值 GuVuTMGm7drDEpUCcZe22qGhdH8B0kIt  qmoh1p3EWrIhe52RwQcCPGzxFOAYbDGE

    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(116.394783, 39.896781);
    map.centerAndZoom(point, 12);             // 初始化地图，设置中心点坐标和地图级别（地图级别不同，浏览器显示的地图大小不同）
    map.enableScrollWheelZoom(); // 允许滚轮缩放

    // var jsonFile = '../data/1.json'
    // obj = JSON.parse(jsonFile);
    var points =[{"lat":40.0,"lng":118.0,"taxiId":1},{"lat":39.93883,"lng":116.51135,"taxiId":1},{"lat":39.93883,"lng":116.51135,"taxiId":1},{"lat":39.91034,"lng":116.51627,"taxiId":1},{"lat":39.91248,"lng":116.47186,"taxiId":1},{"lat":39.92498,"lng":116.47217,"taxiId":1},{"lat":39.90718,"lng":116.47179,"taxiId":1},{"lat":39.90531,"lng":116.45617,"taxiId":1},{"lat":39.90577,"lng":116.47191,"taxiId":1},{"lat":39.9145,"lng":116.50661,"taxiId":1},{"lat":39.9146,"lng":116.49625,"taxiId":1},{"lat":39.91071,"lng":116.50962,"taxiId":1},{"lat":39.91588,"lng":116.52231,"taxiId":1},{"lat":39.91588,"lng":116.52231,"taxiId":1},{"lat":39.91445,"lng":116.56444,"taxiId":1},{"lat":39.90798,"lng":116.59512,"taxiId":1},{"lat":39.8622,"lng":116.65522,"taxiId":1},{"lat":39.85165,"lng":116.69164,"taxiId":1},{"lat":39.85166,"lng":116.69167,"taxiId":1},{"lat":39.85168,"lng":116.69168,"taxiId":1},{"lat":39.85167,"lng":116.69168,"taxiId":1},{"lat":39.85169,"lng":116.69167,"taxiId":1},{"lat":39.85172,"lng":116.69167,"taxiId":1},{"lat":39.85174,"lng":116.69167,"taxiId":1},{"lat":39.85175,"lng":116.69167,"taxiId":1},{"lat":39.85176,"lng":116.69167,"taxiId":1},{"lat":39.85208,"lng":116.69172,"taxiId":1},{"lat":39.85208,"lng":116.69172,"taxiId":1},{"lat":39.85199,"lng":116.69172,"taxiId":1},{"lat":39.85196,"lng":116.69171,"taxiId":1},{"lat":39.85182,"lng":116.69171,"taxiId":1},{"lat":39.85184,"lng":116.69171,"taxiId":1},{"lat":39.85184,"lng":116.6917,"taxiId":1},{"lat":39.85184,"lng":116.6917,"taxiId":1},{"lat":39.85146,"lng":116.69168,"taxiId":1},{"lat":39.85165,"lng":116.69172,"taxiId":1},{"lat":39.85165,"lng":116.69176,"taxiId":1},{"lat":39.85163,"lng":116.69168,"taxiId":1},{"lat":39.85159,"lng":116.69166,"taxiId":1},{"lat":39.85186,"lng":116.69164,"taxiId":1},{"lat":39.85196,"lng":116.69167,"taxiId":1},{"lat":39.85167,"lng":116.69167,"taxiId":1},{"lat":39.85183,"lng":116.69176,"taxiId":1},{"lat":39.85174,"lng":116.69173,"taxiId":1},{"lat":39.85179,"lng":116.69172,"taxiId":1},{"lat":39.85176,"lng":116.69171,"taxiId":1},{"lat":39.85176,"lng":116.6917,"taxiId":1},{"lat":39.85165,"lng":116.69164,"taxiId":1},{"lat":39.85181,"lng":116.69155,"taxiId":1},{"lat":39.8518,"lng":116.69158,"taxiId":1},{"lat":39.85141,"lng":116.69156,"taxiId":1},{"lat":39.85155,"lng":116.69161,"taxiId":1},{"lat":39.85161,"lng":116.69156,"taxiId":1},{"lat":39.85161,"lng":116.69156,"taxiId":1},{"lat":39.85156,"lng":116.6916,"taxiId":1},{"lat":39.85176,"lng":116.6918,"taxiId":1},{"lat":39.85177,"lng":116.69179,"taxiId":1},{"lat":39.85176,"lng":116.69176,"taxiId":1},{"lat":39.85175,"lng":116.69177,"taxiId":1},{"lat":39.85211,"lng":116.69157,"taxiId":1},{"lat":39.85157,"lng":116.69162,"taxiId":1},{"lat":39.85158,"lng":116.69162,"taxiId":1},{"lat":39.8516,"lng":116.69161,"taxiId":1},{"lat":39.85178,"lng":116.69138,"taxiId":1},{"lat":39.85166,"lng":116.69156,"taxiId":1},{"lat":39.85191,"lng":116.69129,"taxiId":1},{"lat":39.85176,"lng":116.69172,"taxiId":1},{"lat":39.85173,"lng":116.69165,"taxiId":1},{"lat":39.85142,"lng":116.69169,"taxiId":1},{"lat":39.85158,"lng":116.69164,"taxiId":1},{"lat":39.85163,"lng":116.69162,"taxiId":1},{"lat":39.85166,"lng":116.69161,"taxiId":1},{"lat":39.85188,"lng":116.69184,"taxiId":1},{"lat":39.85161,"lng":116.69165,"taxiId":1},{"lat":39.85163,"lng":116.6917,"taxiId":1},{"lat":39.85166,"lng":116.69171,"taxiId":1},{"lat":39.85168,"lng":116.69169,"taxiId":1},{"lat":39.85165,"lng":116.69169,"taxiId":1},{"lat":39.85163,"lng":116.69169,"taxiId":1},{"lat":39.85161,"lng":116.69169,"taxiId":1},{"lat":39.85106,"lng":116.69172,"taxiId":1},{"lat":39.85133,"lng":116.6917,"taxiId":1},{"lat":39.85165,"lng":116.69171,"taxiId":1},{"lat":39.85179,"lng":116.69165,"taxiId":1},{"lat":39.85173,"lng":116.69167,"taxiId":1},{"lat":39.8517,"lng":116.69156,"taxiId":1},{"lat":39.85171,"lng":116.69157,"taxiId":1},{"lat":39.85167,"lng":116.69285,"taxiId":1},{"lat":39.88563,"lng":116.65945,"taxiId":1},{"lat":39.9057,"lng":116.6174,"taxiId":1},{"lat":39.91297,"lng":116.57833,"taxiId":1},{"lat":39.91501,"lng":116.54256,"taxiId":1},{"lat":39.90905,"lng":116.51629,"taxiId":1},{"lat":39.90693,"lng":116.49705,"taxiId":1},{"lat":39.90566,"lng":116.43653,"taxiId":1},{"lat":39.87495,"lng":116.45075,"taxiId":1},{"lat":39.88319,"lng":116.45551,"taxiId":1},{"lat":39.91108,"lng":116.58425,"taxiId":1},{"lat":39.90534,"lng":116.62556,"taxiId":1},{"lat":39.90534,"lng":116.62556,"taxiId":1},{"lat":39.90953,"lng":116.63713,"taxiId":1},{"lat":39.88708,"lng":116.65749,"taxiId":1},{"lat":39.8516,"lng":116.69302,"taxiId":1},{"lat":39.85161,"lng":116.69149,"taxiId":1},{"lat":39.85161,"lng":116.6915,"taxiId":1},{"lat":39.85162,"lng":116.69152,"taxiId":1},{"lat":39.85162,"lng":116.69154,"taxiId":1},{"lat":39.85164,"lng":116.69155,"taxiId":1},{"lat":39.85165,"lng":116.69155,"taxiId":1},{"lat":39.85166,"lng":116.69155,"taxiId":1},{"lat":39.85166,"lng":116.69156,"taxiId":1},{"lat":39.85165,"lng":116.69156,"taxiId":1},{"lat":39.85193,"lng":116.69151,"taxiId":1},{"lat":39.85168,"lng":116.69159,"taxiId":1},{"lat":39.85162,"lng":116.69159,"taxiId":1},{"lat":39.85162,"lng":116.69159,"taxiId":1},{"lat":39.85195,"lng":116.69161,"taxiId":1},{"lat":39.8518,"lng":116.69164,"taxiId":1},{"lat":39.8517,"lng":116.69159,"taxiId":1},{"lat":39.85174,"lng":116.69162,"taxiId":1},{"lat":39.85172,"lng":116.6916,"taxiId":1},{"lat":39.85175,"lng":116.6916,"taxiId":1},{"lat":39.85178,"lng":116.69161,"taxiId":1},{"lat":39.85179,"lng":116.6916,"taxiId":1},{"lat":39.85181,"lng":116.6916,"taxiId":1},{"lat":39.85181,"lng":116.6916,"taxiId":1},{"lat":39.85181,"lng":116.6916,"taxiId":1},{"lat":39.85195,"lng":116.69163,"taxiId":1},{"lat":39.85173,"lng":116.69159,"taxiId":1},{"lat":39.85173,"lng":116.69159,"taxiId":1},{"lat":39.85175,"lng":116.69158,"taxiId":1},{"lat":39.85177,"lng":116.6916,"taxiId":1},{"lat":39.85172,"lng":116.69161,"taxiId":1},{"lat":39.85174,"lng":116.69163,"taxiId":1},{"lat":39.85173,"lng":116.69164,"taxiId":1},{"lat":39.8517,"lng":116.69167,"taxiId":1},{"lat":39.85169,"lng":116.69174,"taxiId":1},{"lat":39.85159,"lng":116.69162,"taxiId":1},{"lat":39.8516,"lng":116.69162,"taxiId":1},{"lat":39.85158,"lng":116.69162,"taxiId":1},{"lat":39.85158,"lng":116.69162,"taxiId":1},{"lat":39.85161,"lng":116.69162,"taxiId":1},{"lat":39.85188,"lng":116.69159,"taxiId":1},{"lat":39.85182,"lng":116.69162,"taxiId":1},{"lat":39.85176,"lng":116.69162,"taxiId":1},{"lat":39.8518,"lng":116.69169,"taxiId":1},{"lat":39.85172,"lng":116.69169,"taxiId":1},{"lat":39.85159,"lng":116.69163,"taxiId":1},{"lat":39.85167,"lng":116.69163,"taxiId":1},{"lat":39.85168,"lng":116.69164,"taxiId":1},{"lat":39.85169,"lng":116.69164,"taxiId":1},{"lat":39.85169,"lng":116.69164,"taxiId":1},{"lat":39.85168,"lng":116.69163,"taxiId":1},{"lat":39.85168,"lng":116.69163,"taxiId":1},{"lat":39.85169,"lng":116.69162,"taxiId":1},{"lat":39.85169,"lng":116.69162,"taxiId":1},{"lat":39.85169,"lng":116.69161,"taxiId":1},{"lat":39.85169,"lng":116.6916,"taxiId":1},{"lat":39.8517,"lng":116.6916,"taxiId":1},{"lat":39.8517,"lng":116.6916,"taxiId":1},{"lat":39.85171,"lng":116.69161,"taxiId":1},{"lat":39.85128,"lng":116.69159,"taxiId":1},{"lat":39.85171,"lng":116.69171,"taxiId":1},{"lat":39.85158,"lng":116.69166,"taxiId":1},{"lat":39.8516,"lng":116.69164,"taxiId":1},{"lat":39.85163,"lng":116.6916,"taxiId":1},{"lat":39.85164,"lng":116.69156,"taxiId":1},{"lat":39.85165,"lng":116.69155,"taxiId":1},{"lat":39.85166,"lng":116.69149,"taxiId":1},{"lat":39.85179,"lng":116.6915,"taxiId":1},{"lat":39.85196,"lng":116.6913,"taxiId":1},{"lat":39.85192,"lng":116.69141,"taxiId":1},{"lat":39.85164,"lng":116.69158,"taxiId":1},{"lat":39.85168,"lng":116.69158,"taxiId":1},{"lat":39.85168,"lng":116.69158,"taxiId":1},{"lat":39.8518,"lng":116.69139,"taxiId":1},{"lat":39.85167,"lng":116.6916,"taxiId":1},{"lat":39.85173,"lng":116.69162,"taxiId":1},{"lat":39.85174,"lng":116.69161,"taxiId":1},{"lat":39.85173,"lng":116.69162,"taxiId":1},{"lat":39.85141,"lng":116.69152,"taxiId":1},{"lat":39.85185,"lng":116.69165,"taxiId":1},{"lat":39.85176,"lng":116.69161,"taxiId":1},{"lat":39.85176,"lng":116.69163,"taxiId":1},{"lat":39.85172,"lng":116.69162,"taxiId":1},{"lat":39.8516,"lng":116.69163,"taxiId":1},{"lat":39.85156,"lng":116.69163,"taxiId":1},{"lat":39.85154,"lng":116.69163,"taxiId":1},{"lat":39.85152,"lng":116.69163,"taxiId":1},{"lat":39.85156,"lng":116.69159,"taxiId":1},{"lat":39.85166,"lng":116.69162,"taxiId":1},{"lat":39.85186,"lng":116.69163,"taxiId":1},{"lat":39.85185,"lng":116.69162,"taxiId":1},{"lat":39.85171,"lng":116.69162,"taxiId":1},{"lat":39.87709,"lng":116.67003,"taxiId":1},{"lat":39.9044,"lng":116.63086,"taxiId":1},{"lat":39.9129,"lng":116.57792,"taxiId":1},{"lat":39.915,"lng":116.53787,"taxiId":1},{"lat":39.90916,"lng":116.50839,"taxiId":1},{"lat":39.90679,"lng":116.5094,"taxiId":1},{"lat":39.91397,"lng":116.47511,"taxiId":1},{"lat":39.91397,"lng":116.47511,"taxiId":1},{"lat":39.9155,"lng":116.51175,"taxiId":1},{"lat":39.90887,"lng":116.51672,"taxiId":1},{"lat":39.85151,"lng":116.69169,"taxiId":1},{"lat":39.85204,"lng":116.69159,"taxiId":1},{"lat":39.85187,"lng":116.69158,"taxiId":1},{"lat":39.85178,"lng":116.69162,"taxiId":1},{"lat":39.85176,"lng":116.69161,"taxiId":1},{"lat":39.85179,"lng":116.6916,"taxiId":1},{"lat":39.85178,"lng":116.69158,"taxiId":1},{"lat":39.85179,"lng":116.69157,"taxiId":1},{"lat":39.85181,"lng":116.69157,"taxiId":1},{"lat":39.85182,"lng":116.69157,"taxiId":1},{"lat":39.85182,"lng":116.69157,"taxiId":1},{"lat":39.85182,"lng":116.69157,"taxiId":1},{"lat":39.85182,"lng":116.69157,"taxiId":1},{"lat":39.85145,"lng":116.69152,"taxiId":1},{"lat":39.85155,"lng":116.6915,"taxiId":1},{"lat":39.85184,"lng":116.69145,"taxiId":1},{"lat":39.85179,"lng":116.69153,"taxiId":1},{"lat":39.85167,"lng":116.69163,"taxiId":1},{"lat":39.85162,"lng":116.6916,"taxiId":1},{"lat":39.85202,"lng":116.69177,"taxiId":1},{"lat":39.85171,"lng":116.69166,"taxiId":1},{"lat":39.85172,"lng":116.69162,"taxiId":1},{"lat":39.85169,"lng":116.69161,"taxiId":1},{"lat":39.85125,"lng":116.69156,"taxiId":1},{"lat":39.85164,"lng":116.69165,"taxiId":1},{"lat":39.85172,"lng":116.69154,"taxiId":1},{"lat":39.85175,"lng":116.69157,"taxiId":1},{"lat":39.85171,"lng":116.69168,"taxiId":1},{"lat":39.85156,"lng":116.69194,"taxiId":1},{"lat":39.85159,"lng":116.69186,"taxiId":1},{"lat":39.85161,"lng":116.69182,"taxiId":1},{"lat":39.85161,"lng":116.69182,"taxiId":1},{"lat":39.85145,"lng":116.69166,"taxiId":1},{"lat":39.85163,"lng":116.69163,"taxiId":1},{"lat":39.85169,"lng":116.69163,"taxiId":1},{"lat":39.85161,"lng":116.69157,"taxiId":1},{"lat":39.85165,"lng":116.69155,"taxiId":1},{"lat":39.85166,"lng":116.69154,"taxiId":1},{"lat":39.85168,"lng":116.69153,"taxiId":1},{"lat":39.85171,"lng":116.69154,"taxiId":1},{"lat":39.85173,"lng":116.69154,"taxiId":1},{"lat":39.85173,"lng":116.69155,"taxiId":1},{"lat":39.85177,"lng":116.69153,"taxiId":1},{"lat":39.85165,"lng":116.69156,"taxiId":1},{"lat":39.85163,"lng":116.69113,"taxiId":1},{"lat":39.85148,"lng":116.69143,"taxiId":1},{"lat":39.85171,"lng":116.69168,"taxiId":1},{"lat":39.8517,"lng":116.69171,"taxiId":1},{"lat":39.8517,"lng":116.69162,"taxiId":1},{"lat":39.85185,"lng":116.69146,"taxiId":1},{"lat":39.85164,"lng":116.69156,"taxiId":1},{"lat":39.85182,"lng":116.69158,"taxiId":1},{"lat":39.85158,"lng":116.69158,"taxiId":1},{"lat":39.85166,"lng":116.69159,"taxiId":1},{"lat":39.85171,"lng":116.69157,"taxiId":1},{"lat":39.85173,"lng":116.69158,"taxiId":1},{"lat":39.85174,"lng":116.6916,"taxiId":1},{"lat":39.85175,"lng":116.69161,"taxiId":1},{"lat":39.85176,"lng":116.69162,"taxiId":1},{"lat":39.85176,"lng":116.69162,"taxiId":1},{"lat":39.85176,"lng":116.69162,"taxiId":1},{"lat":39.85177,"lng":116.69162,"taxiId":1},{"lat":39.85176,"lng":116.69162,"taxiId":1},{"lat":39.85166,"lng":116.69154,"taxiId":1},{"lat":39.85169,"lng":116.69155,"taxiId":1},{"lat":39.85172,"lng":116.69155,"taxiId":1},{"lat":39.85172,"lng":116.69156,"taxiId":1},{"lat":39.85169,"lng":116.69156,"taxiId":1},{"lat":39.85167,"lng":116.69157,"taxiId":1},{"lat":39.85152,"lng":116.6916,"taxiId":1},{"lat":39.85156,"lng":116.69159,"taxiId":1},{"lat":39.85251,"lng":116.69568,"taxiId":1},{"lat":39.89091,"lng":116.64668,"taxiId":1},{"lat":39.90881,"lng":116.59985,"taxiId":1},{"lat":39.91485,"lng":116.5531,"taxiId":1},{"lat":39.91468,"lng":116.49968,"taxiId":1},{"lat":39.91749,"lng":116.45678,"taxiId":1},{"lat":39.92573,"lng":116.43597,"taxiId":1},{"lat":39.91971,"lng":116.46352,"taxiId":1},{"lat":39.915,"lng":116.46515,"taxiId":1},{"lat":39.91569,"lng":116.45519,"taxiId":1},{"lat":39.9162,"lng":116.46086,"taxiId":1},{"lat":39.91413,"lng":116.4741,"taxiId":1},{"lat":39.9159,"lng":116.51525,"taxiId":1},{"lat":39.91441,"lng":116.49344,"taxiId":1},{"lat":39.92268,"lng":116.54716,"taxiId":1},{"lat":39.91537,"lng":116.52989,"taxiId":1},{"lat":39.92172,"lng":116.47556,"taxiId":1},{"lat":39.95203,"lng":116.45419,"taxiId":1},{"lat":39.94389,"lng":116.46794,"taxiId":1},{"lat":39.9797,"lng":116.44923,"taxiId":1},{"lat":39.99519,"lng":116.46175,"taxiId":1},{"lat":39.99519,"lng":116.46175,"taxiId":1},{"lat":39.96358,"lng":116.46455,"taxiId":1},{"lat":39.92281,"lng":116.45348,"taxiId":1},{"lat":39.92153,"lng":116.47822,"taxiId":1},{"lat":39.9139,"lng":116.46432,"taxiId":1},{"lat":39.92163,"lng":116.43523,"taxiId":1},{"lat":39.92234,"lng":116.43161,"taxiId":1},{"lat":39.90776,"lng":116.42843,"taxiId":1},{"lat":39.93528,"lng":116.4277,"taxiId":1},{"lat":39.9462,"lng":116.41563,"taxiId":1},{"lat":39.94799,"lng":116.43479,"taxiId":1},{"lat":39.98414,"lng":116.4546,"taxiId":1},{"lat":39.98753,"lng":116.46,"taxiId":1},{"lat":39.95789,"lng":116.48006,"taxiId":1},{"lat":39.92762,"lng":116.47179,"taxiId":1},{"lat":39.9147,"lng":116.50407,"taxiId":1},{"lat":39.90693,"lng":116.50337,"taxiId":1},{"lat":39.85164,"lng":116.69155,"taxiId":1},{"lat":39.8518,"lng":116.69155,"taxiId":1},{"lat":39.85179,"lng":116.69155,"taxiId":1},{"lat":39.85181,"lng":116.69156,"taxiId":1},{"lat":39.85183,"lng":116.69157,"taxiId":1},{"lat":39.85183,"lng":116.69157,"taxiId":1},{"lat":39.85183,"lng":116.69158,"taxiId":1},{"lat":39.85183,"lng":116.69159,"taxiId":1},{"lat":39.85183,"lng":116.69159,"taxiId":1},{"lat":39.85183,"lng":116.69159,"taxiId":1},{"lat":39.85182,"lng":116.69159,"taxiId":1},{"lat":39.85182,"lng":116.69159,"taxiId":1},{"lat":39.85182,"lng":116.69159,"taxiId":1},{"lat":39.85181,"lng":116.6916,"taxiId":1},{"lat":39.8518,"lng":116.6916,"taxiId":1},{"lat":39.85194,"lng":116.69185,"taxiId":1},{"lat":39.85189,"lng":116.69168,"taxiId":1},{"lat":39.85161,"lng":116.69142,"taxiId":1},{"lat":39.85169,"lng":116.69154,"taxiId":1},{"lat":39.85156,"lng":116.69155,"taxiId":1},{"lat":39.85179,"lng":116.69154,"taxiId":1},{"lat":39.85167,"lng":116.69153,"taxiId":1},{"lat":39.85157,"lng":116.69151,"taxiId":1},{"lat":39.85173,"lng":116.69173,"taxiId":1},{"lat":39.85178,"lng":116.69164,"taxiId":1},{"lat":39.85172,"lng":116.69163,"taxiId":1},{"lat":39.85171,"lng":116.69164,"taxiId":1},{"lat":39.85178,"lng":116.69167,"taxiId":1},{"lat":39.85165,"lng":116.69165,"taxiId":1},{"lat":39.85169,"lng":116.69163,"taxiId":1},{"lat":39.85169,"lng":116.69162,"taxiId":1},{"lat":39.85171,"lng":116.69162,"taxiId":1},{"lat":39.85172,"lng":116.69162,"taxiId":1},{"lat":39.8516,"lng":116.69154,"taxiId":1},{"lat":39.85155,"lng":116.69159,"taxiId":1},{"lat":39.85165,"lng":116.69156,"taxiId":1},{"lat":39.85172,"lng":116.69157,"taxiId":1},{"lat":39.85175,"lng":116.6916,"taxiId":1},{"lat":39.85175,"lng":116.6916,"taxiId":1},{"lat":39.85175,"lng":116.69161,"taxiId":1},{"lat":39.85175,"lng":116.69162,"taxiId":1},{"lat":39.85175,"lng":116.69162,"taxiId":1},{"lat":39.85176,"lng":116.69161,"taxiId":1},{"lat":39.85174,"lng":116.69155,"taxiId":1},{"lat":39.85175,"lng":116.69151,"taxiId":1},{"lat":39.85173,"lng":116.69152,"taxiId":1},{"lat":39.8518,"lng":116.69136,"taxiId":1},{"lat":39.85164,"lng":116.6915,"taxiId":1},{"lat":39.85206,"lng":116.69135,"taxiId":1},{"lat":39.85181,"lng":116.69157,"taxiId":1},{"lat":39.85165,"lng":116.69155,"taxiId":1},{"lat":39.85167,"lng":116.69155,"taxiId":1},{"lat":39.85168,"lng":116.69155,"taxiId":1},{"lat":39.85169,"lng":116.69156,"taxiId":1},{"lat":39.8517,"lng":116.69158,"taxiId":1},{"lat":39.8517,"lng":116.69159,"taxiId":1},{"lat":39.85171,"lng":116.69159,"taxiId":1},{"lat":39.85181,"lng":116.69148,"taxiId":1},{"lat":39.85185,"lng":116.69159,"taxiId":1},{"lat":39.85183,"lng":116.69159,"taxiId":1},{"lat":39.85181,"lng":116.69159,"taxiId":1},{"lat":39.85182,"lng":116.69159,"taxiId":1},{"lat":39.85181,"lng":116.69159,"taxiId":1},{"lat":39.8518,"lng":116.69159,"taxiId":1},{"lat":39.85173,"lng":116.69155,"taxiId":1},{"lat":39.8516,"lng":116.69159,"taxiId":1},{"lat":39.8516,"lng":116.69159,"taxiId":1},{"lat":39.85158,"lng":116.69159,"taxiId":1},{"lat":39.85183,"lng":116.69158,"taxiId":1},{"lat":39.8517,"lng":116.69157,"taxiId":1},{"lat":39.90081,"lng":116.63319,"taxiId":1},{"lat":39.91361,"lng":116.5727,"taxiId":1},{"lat":39.91522,"lng":116.51523,"taxiId":1},{"lat":39.98849,"lng":116.47354,"taxiId":1},{"lat":39.99651,"lng":116.47272,"taxiId":1},{"lat":39.97043,"lng":116.47284,"taxiId":1},{"lat":39.91296,"lng":116.48347,"taxiId":1},{"lat":39.85721,"lng":116.42589,"taxiId":1},{"lat":39.84292,"lng":116.35883,"taxiId":1},{"lat":39.85573,"lng":116.41487,"taxiId":1},{"lat":39.86658,"lng":116.46671,"taxiId":1},{"lat":39.89127,"lng":116.48331,"taxiId":1},{"lat":39.89113,"lng":116.48332,"taxiId":1},{"lat":39.89111,"lng":116.48335,"taxiId":1},{"lat":39.89111,"lng":116.48335,"taxiId":1},{"lat":39.89959,"lng":116.48364,"taxiId":1},{"lat":39.91654,"lng":116.51238,"taxiId":1},{"lat":39.92152,"lng":116.51167,"taxiId":1},{"lat":39.93078,"lng":116.51127,"taxiId":1},{"lat":39.90692,"lng":116.50382,"taxiId":1},{"lat":39.85137,"lng":116.69158,"taxiId":1},{"lat":39.85188,"lng":116.69158,"taxiId":1},{"lat":39.85119,"lng":116.69175,"taxiId":1},{"lat":39.85173,"lng":116.6914,"taxiId":1},{"lat":39.85173,"lng":116.6914,"taxiId":1},{"lat":39.8515,"lng":116.69173,"taxiId":1},{"lat":39.85158,"lng":116.69165,"taxiId":1},{"lat":39.85155,"lng":116.69169,"taxiId":1},{"lat":39.85174,"lng":116.69177,"taxiId":1},{"lat":39.8518,"lng":116.69172,"taxiId":1},{"lat":39.85192,"lng":116.69182,"taxiId":1},{"lat":39.85205,"lng":116.69185,"taxiId":1},{"lat":39.85171,"lng":116.69158,"taxiId":1},{"lat":39.8516,"lng":116.6916,"taxiId":1},{"lat":39.8516,"lng":116.69163,"taxiId":1},{"lat":39.85131,"lng":116.69165,"taxiId":1},{"lat":39.85147,"lng":116.6915,"taxiId":1},{"lat":39.85151,"lng":116.69174,"taxiId":1},{"lat":39.85141,"lng":116.69165,"taxiId":1},{"lat":39.85202,"lng":116.69146,"taxiId":1},{"lat":39.85159,"lng":116.69108,"taxiId":1},{"lat":39.85105,"lng":116.69137,"taxiId":1},{"lat":39.85157,"lng":116.6916,"taxiId":1},{"lat":39.85156,"lng":116.69157,"taxiId":1},{"lat":39.85207,"lng":116.69168,"taxiId":1},{"lat":39.85168,"lng":116.69153,"taxiId":1},{"lat":39.85152,"lng":116.69156,"taxiId":1},{"lat":39.85147,"lng":116.6916,"taxiId":1},{"lat":39.85146,"lng":116.69162,"taxiId":1},{"lat":39.85165,"lng":116.69175,"taxiId":1},{"lat":39.85167,"lng":116.69163,"taxiId":1},{"lat":39.85184,"lng":116.69174,"taxiId":1},{"lat":39.85184,"lng":116.69174,"taxiId":1},{"lat":39.85154,"lng":116.69163,"taxiId":1},{"lat":39.8516,"lng":116.69179,"taxiId":1},{"lat":39.85217,"lng":116.69178,"taxiId":1},{"lat":39.85141,"lng":116.69172,"taxiId":1},{"lat":39.85138,"lng":116.6916,"taxiId":1},{"lat":39.85128,"lng":116.69223,"taxiId":1},{"lat":39.85197,"lng":116.69164,"taxiId":1},{"lat":39.85198,"lng":116.69163,"taxiId":1},{"lat":39.85148,"lng":116.69172,"taxiId":1},{"lat":39.85144,"lng":116.69176,"taxiId":1},{"lat":39.85133,"lng":116.69152,"taxiId":1},{"lat":39.85111,"lng":116.69164,"taxiId":1},{"lat":39.85143,"lng":116.69164,"taxiId":1},{"lat":39.85136,"lng":116.69162,"taxiId":1},{"lat":39.85172,"lng":116.69173,"taxiId":1},{"lat":39.85186,"lng":116.69179,"taxiId":1},{"lat":39.8514,"lng":116.69164,"taxiId":1},{"lat":39.85141,"lng":116.69164,"taxiId":1},{"lat":39.85172,"lng":116.69171,"taxiId":1},{"lat":39.85152,"lng":116.69165,"taxiId":1},{"lat":39.85156,"lng":116.69164,"taxiId":1},{"lat":39.85192,"lng":116.69153,"taxiId":1},{"lat":39.85129,"lng":116.69167,"taxiId":1},{"lat":39.85178,"lng":116.69159,"taxiId":1},{"lat":39.85178,"lng":116.69159,"taxiId":1},{"lat":39.85273,"lng":116.69157,"taxiId":1},{"lat":39.85156,"lng":116.69172,"taxiId":1},{"lat":39.85156,"lng":116.69172,"taxiId":1},{"lat":39.85125,"lng":116.69147,"taxiId":1},{"lat":39.85177,"lng":116.69165,"taxiId":1},{"lat":39.85172,"lng":116.69169,"taxiId":1},{"lat":39.85172,"lng":116.69171,"taxiId":1},{"lat":39.85153,"lng":116.69164,"taxiId":1},{"lat":39.8516,"lng":116.69163,"taxiId":1},{"lat":39.85157,"lng":116.6916,"taxiId":1},{"lat":39.85139,"lng":116.69185,"taxiId":1},{"lat":39.88501,"lng":116.66018,"taxiId":1},{"lat":39.90824,"lng":116.59778,"taxiId":1},{"lat":39.91294,"lng":116.57738,"taxiId":1},{"lat":39.91508,"lng":116.53903,"taxiId":1},{"lat":39.93235,"lng":116.48572,"taxiId":1},{"lat":39.91661,"lng":116.51471,"taxiId":1},{"lat":39.94303,"lng":116.48366,"taxiId":1},{"lat":39.91423,"lng":116.4847,"taxiId":1},{"lat":39.91134,"lng":116.51731,"taxiId":1},{"lat":39.91402,"lng":116.56668,"taxiId":1},{"lat":39.90733,"lng":116.6014,"taxiId":1},{"lat":39.88832,"lng":116.65535,"taxiId":1},{"lat":39.85197,"lng":116.69152,"taxiId":1},{"lat":39.85179,"lng":116.69156,"taxiId":1},{"lat":39.85168,"lng":116.69181,"taxiId":1},{"lat":39.85168,"lng":116.69181,"taxiId":1},{"lat":39.85168,"lng":116.69179,"taxiId":1},{"lat":39.85199,"lng":116.69171,"taxiId":1},{"lat":39.85189,"lng":116.69156,"taxiId":1},{"lat":39.85191,"lng":116.69158,"taxiId":1},{"lat":39.85189,"lng":116.69158,"taxiId":1},{"lat":39.85171,"lng":116.6916,"taxiId":1},{"lat":39.85166,"lng":116.69164,"taxiId":1},{"lat":39.85167,"lng":116.69161,"taxiId":1},{"lat":39.85169,"lng":116.69159,"taxiId":1},{"lat":39.85149,"lng":116.69167,"taxiId":1},{"lat":39.85154,"lng":116.69166,"taxiId":1},{"lat":39.8518,"lng":116.69168,"taxiId":1},{"lat":39.85181,"lng":116.6917,"taxiId":1},{"lat":39.85181,"lng":116.69163,"taxiId":1},{"lat":39.85175,"lng":116.69152,"taxiId":1},{"lat":39.85173,"lng":116.69155,"taxiId":1},{"lat":39.85164,"lng":116.69136,"taxiId":1},{"lat":39.85171,"lng":116.69141,"taxiId":1},{"lat":39.8515,"lng":116.69173,"taxiId":1},{"lat":39.85172,"lng":116.6916,"taxiId":1},{"lat":39.85179,"lng":116.69156,"taxiId":1},{"lat":39.85184,"lng":116.69159,"taxiId":1},{"lat":39.85154,"lng":116.6916,"taxiId":1},{"lat":39.85152,"lng":116.6916,"taxiId":1},{"lat":39.85151,"lng":116.6916,"taxiId":1},{"lat":39.85156,"lng":116.6916,"taxiId":1},{"lat":39.85201,"lng":116.69187,"taxiId":1},{"lat":39.85167,"lng":116.69152,"taxiId":1},{"lat":39.85167,"lng":116.69152,"taxiId":1},{"lat":39.85161,"lng":116.69152,"taxiId":1},{"lat":39.85166,"lng":116.6915,"taxiId":1},{"lat":39.8516,"lng":116.69152,"taxiId":1},{"lat":39.85159,"lng":116.69152,"taxiId":1},{"lat":39.8516,"lng":116.69152,"taxiId":1},{"lat":39.85161,"lng":116.69151,"taxiId":1},{"lat":39.85161,"lng":116.69152,"taxiId":1},{"lat":39.85161,"lng":116.69151,"taxiId":1},{"lat":39.8518,"lng":116.69161,"taxiId":1},{"lat":39.85176,"lng":116.69173,"taxiId":1},{"lat":39.8516,"lng":116.69158,"taxiId":1},{"lat":39.8516,"lng":116.69158,"taxiId":1},{"lat":39.85177,"lng":116.69157,"taxiId":1},{"lat":39.8517,"lng":116.69156,"taxiId":1},{"lat":39.85169,"lng":116.69156,"taxiId":1},{"lat":39.8517,"lng":116.69155,"taxiId":1},{"lat":39.85136,"lng":116.69163,"taxiId":1},{"lat":39.85165,"lng":116.69153,"taxiId":1},{"lat":39.85169,"lng":116.69157,"taxiId":1},{"lat":39.85177,"lng":116.69177,"taxiId":1},{"lat":39.85179,"lng":116.69173,"taxiId":1},{"lat":39.8514,"lng":116.69165,"taxiId":1},{"lat":39.85147,"lng":116.69163,"taxiId":1},{"lat":39.85076,"lng":116.69169,"taxiId":1},{"lat":39.85102,"lng":116.69184,"taxiId":1},{"lat":39.85177,"lng":116.69102,"taxiId":1},{"lat":39.85165,"lng":116.69137,"taxiId":1},{"lat":39.85175,"lng":116.69145,"taxiId":1},{"lat":39.85187,"lng":116.69171,"taxiId":1},{"lat":39.85178,"lng":116.69163,"taxiId":1},{"lat":39.85176,"lng":116.6916,"taxiId":1},{"lat":39.8519,"lng":116.69137,"taxiId":1},{"lat":39.8517,"lng":116.69147,"taxiId":1},{"lat":39.85143,"lng":116.69152,"taxiId":1},{"lat":39.85161,"lng":116.6915,"taxiId":1},{"lat":39.85164,"lng":116.69152,"taxiId":1},{"lat":39.85165,"lng":116.69154,"taxiId":1},{"lat":39.85161,"lng":116.69149,"taxiId":1},{"lat":39.85164,"lng":116.69162,"taxiId":1},{"lat":39.85159,"lng":116.69159,"taxiId":1},{"lat":39.85165,"lng":116.69158,"taxiId":1},{"lat":39.85165,"lng":116.69158,"taxiId":1},{"lat":39.85169,"lng":116.69163,"taxiId":1},{"lat":39.85173,"lng":116.69154,"taxiId":1},{"lat":39.85175,"lng":116.69154,"taxiId":1},{"lat":39.85167,"lng":116.69159,"taxiId":1},{"lat":39.85141,"lng":116.69163,"taxiId":1},{"lat":39.85161,"lng":116.69162,"taxiId":1},{"lat":39.85161,"lng":116.6916,"taxiId":1},{"lat":39.85188,"lng":116.69154,"taxiId":1},{"lat":39.85197,"lng":116.69158,"taxiId":1},{"lat":39.85187,"lng":116.69158,"taxiId":1},{"lat":39.85183,"lng":116.69159,"taxiId":1},{"lat":39.85147,"lng":116.69162,"taxiId":1},{"lat":39.85158,"lng":116.69156,"taxiId":1},{"lat":39.85164,"lng":116.69155,"taxiId":1},{"lat":39.85165,"lng":116.69153,"taxiId":1},{"lat":39.85166,"lng":116.69153,"taxiId":1},{"lat":39.88372,"lng":116.66179,"taxiId":1},{"lat":39.90741,"lng":116.60394,"taxiId":1},{"lat":39.91474,"lng":116.54559,"taxiId":1},{"lat":39.916,"lng":116.52195,"taxiId":1},{"lat":39.91422,"lng":116.48503,"taxiId":1},{"lat":39.92156,"lng":116.4446,"taxiId":1},{"lat":39.92594,"lng":116.40047,"taxiId":1},{"lat":39.93236,"lng":116.44152,"taxiId":1},{"lat":39.91954,"lng":116.48347,"taxiId":1},{"lat":39.93128,"lng":116.50789,"taxiId":1},{"lat":39.91536,"lng":116.53174,"taxiId":1},{"lat":39.90263,"lng":116.57156,"taxiId":1},{"lat":43.99,"lng":125.39,"taxiId":1}];

    // window.print(obj);
    // var points = [jsonData];
    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小   
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1. 
		    value 为颜色值. 
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:10});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value; 
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>